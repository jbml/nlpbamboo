\documentclass[12pt,a4paper]{article}
\def\pgfsysdriver{pgfsys-dvipdfm.def}

% 加载宏包，格式设定
\usepackage{fontspec,indentfirst}
\usepackage{xunicode}               % unicode macros
\usepackage{xltxtra}                % fixes/extras
\usepackage[margin=1.5cm] {geometry}
\usepackage{tikz}
\usepackage[ruled,vlined]{algorithm2e}

\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt minus 0.1pt

% 字体
%\newfontfamily\mono{Courier New}
%\newfontfamily\serif{Times New Roman}
\def\chinese{
	\setmonofont{黑体}
	\setsansfont{微软雅黑}
	\setmainfont{宋体}
}
\def\english{
	\setmonofont{Consolas}
	\setsansfont{Verdana}
	\setmainfont{Times New Roman}
}
\newfontfamily\en{Times New Roman}
\newfontfamily\cn{"宋体"}

% 行间距
\renewcommand{\baselinestretch}{1.2}

% 名词定义
\def\maxforward{{\cn 最大正向匹配{\en(Maximum Forward Matching)}}}
\def\maxbackward{{\cn 最大逆向匹配{\en(Maximum Backward Matching)}}}
\def\NGram{{\cn {\en N}-元语法模型{\en(N-Gram Model)}}}
\def\UniGram{{\cn 一元语法模型{\en(Unigram Model)}}}

% 标题定义
\title{常用中文分词算法简介}
\author{杨家宁}

% 文章开始
\begin{document}
\chinese
\maketitle

\def\abstractname{\bf 摘~~要}
\begin{abstract}
中文分词的研究时至今日已经产生出了很多种方法。
例如：\maxforward 、\maxbackward 还有基于统计语言模型的\NGram 方法。
其中\NGram 具有较高的分词准确度，但实现起来确相对复杂。
而\maxforward 方法虽然准确度不高，但由于实现简单因此有比较广泛的应用。
本文将先简单介绍\maxforward 和\maxbackward 算法以及他们的一些问题。
再着重介绍\NGram 中比较简单的一种模型\UniGram 。
最后，再介绍一些对模型的修正算法。
\end{abstract}

\section{\maxforward}
\begin{table}
\caption{切分句子 “我喜欢奥运会”}
\label{tbl_maxforward}
	\begin{center}
		\begin{tabular}{l|c|l|l}
			当前处理字符串 & 是否匹配    & 目前最长词 & 当前分词结果   \\
			\hline
			我\$           & {\en Y}  & 我         &                \\
			我喜\$         & {\en N}  & 我         &                \\
			我喜欢\$       & {\en N}  & 我         &                \\
			我喜欢奥\$     & {\en N}  & 我         &                \\
			我喜欢奥运\$   & {\en N}  & 我         &                \\
			我喜欢奥运会\$ & {\en N}  & 我         &                \\
			喜\$           & {\en Y}  & 喜         & 我             \\ 
			喜欢\$         & {\en Y}  & 喜欢       & 我             \\ 
			喜欢奥\$       & {\en N}  & 喜欢       & 我             \\ 
			喜欢奥运\$     & {\en N}  & 喜欢       & 我             \\ 
			喜欢奥运会\$   & {\en N}  & 喜欢       & 我             \\ 
			奥\$           & {\en Y}  & 奥         & 我 喜欢        \\ 
			奥运\$         & {\en Y}  & 奥运       & 我 喜欢        \\ 
			奥运会\$       & {\en Y}  & 奥运会     & 我 喜欢        \\ 
		    \$             &          &            & 我 喜欢 奥运会 \\
		\end{tabular}
	\end{center}
\end{table}

我们先来讲解\maxforward 算法。
最大正向顾名思义就是从句子开头向结尾搜索，使得每次切分出来的词的长度最大。
表\ref{tbl_maxforward}一步步演示了\maxforward 的切分过程。算法\ref{alg_maxforward}具体描述了这个算法。
\incmargin{1em}
\begin{algorithm}
	\english
	\label{alg_maxforward}
	\dontprintsemicolon
	\linesnumbered
	\SetKwData{Token}{\en token}
	\SetKwData{MaxTokenSize}{\en max}
	\SetKwData{Result}{\en result}
	\SetKwFunction{Strlen}{\en strlen}
	\SetKwFunction{Substr}{\en substr}
	\SetKwFunction{Concat}{\en concat}
	\SetKwFunction{Find}{\en find}
	\SetKwInOut{Input}{\en Input}
	\SetKwInOut{Output}{\en Output}

	\Input{\en A string in chinese $s$}
	\Output{\en A string after Segmentation $t$}
	\Begin{
		\For{$i\leftarrow 0$ \KwTo \Strlen{$s$}}{
			\For{$j\leftarrow$ \MaxTokenSize \KwTo $0$} {
				\Token$\leftarrow$\Substr{$s$, $i$, $j$}\;
				\If{\Find{\Token}} {
					break\;
				}
			}
			\Concat{$t$, \Token}\;
			\Concat{$t$, $" "$}\;
			$i\leftarrow i + j - 1$\;
		}
	}
	\caption{\maxforward}
\end{algorithm}
\decmargin{1em}

\maxforward 虽然简单，但很多时候会因为切词过长导致错误。
例如，句子“研究生命起源”，会被\maxforward 切分成 “研究生 命 起源”。显然是错误的。


\section{\maxbackward}

现在让我们把\maxforward 方法反过来，也就是从后向前反向扫描句子。\ref{tbl_maxbackword}向我们展示了这个过程。

\begin{table}
\caption{切分句子 “研究生命起源”}
\label{tbl_maxbackward}
	\begin{center}
		\begin{tabular}{l|c|l|l}
			当前处理字符串           & 是否匹配 & 目前最长词 & 当前分词结果   \\
			\hline
			源\$                     & {\en Y}  & 源         &                \\
			起源\$                   & {\en Y}  & 起源       &                \\
			命起源\$                 & {\en N}  & 起源       &                \\
			生命起源\$               & {\en N}  & 起源       &                \\
			研究生命起源\$           & {\en N}  & 起源       &                \\

			命\$                     & {\en Y}  & 命         & 起源           \\
			生命\$                   & {\en Y}  & 生命       & 起源           \\
			究生命\$                 & {\en N}  & 生命       & 起源           \\
			研究生命\$               & {\en N}  & 生命       & 起源           \\

			究\$                     & {\en Y}  & 究         & 生命 起源      \\
			研究\$                   & {\en Y}  & 研究       & 生命 起源      \\

			\$                       &          &            & 研究 生命 起源 \\
		\end{tabular}
	\end{center}
\end{table}

这种把\maxforward 扫描方向倒转过来的方法被称为\maxbackward
虽然\maxbackward 把上面这句\maxforward 切分错误的句子正确切分，
但是我们不难发现单纯翻转扫描方式还是不能解决切词过长的问题，例如：“欢迎来北京”，
会被\maxbackward 切分成“欢 迎来 北京”。

虽然\maxforward 和\maxbackward 存在都切分过长导致错误的问题，
但在实践中\maxbackward 的准确率略高于\maxforward

\section{\UniGram}

下面我们来介绍一种稍微复杂一点的算法\UniGram，他有比\maxforward 和\maxbackward 高得多的准确率。

\UniGram 是\NGram 的一种，也是其中最简单的一种。\UniGram 算法力图找到一种切分，
让被切分后的句子中所有词的概率总和最大。



\end{document}
